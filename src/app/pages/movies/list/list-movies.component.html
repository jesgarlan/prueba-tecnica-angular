<div *ngIf="loading">
    <div class="lds-dual-ring"></div>
</div>

<div class="col-12 center" *ngIf="!loading && movies.length == 0">
    <div class="row justify-center">
        <img src="assets/svg/folder.svg" class="img-folder">
    </div>
    <div class="row justify-center">
        <span class="bold text-center">{{'list-movie.empty' | translate }}</span>
    </div>
</div>

<div class="row" *ngIf="!loading">
    <div class="col-12 col-sm-4 col-md-4 mt-2"
        *ngFor="let m of movies | paginate: { itemsPerPage: 3, currentPage: p, totalItems: totalCount }">
        <a href="#/pages/movies/show/{{m.id}}" class="td-none">
            <nb-card class="w-100">
                <nb-card-header>{{m.title}}</nb-card-header>
                <nb-card-body class="text-center">
                    <div class="row justify-center">
                        <img src="{{m.poster}}" *ngIf="m.poster != null">
                    </div>
                    <div class="row mt-3">
                        <div class="col-6 col-xl-3" *ngFor="let g of m.genre">
                            <p>#{{g}}</p>
                        </div>
                    </div>
                </nb-card-body>
            </nb-card>
        </a>
    </div>
    <a href="#/pages/movies/create">
        <button nbButton status="warning" shape="round" size="giant" class="floating">
            <nb-icon icon="plus"></nb-icon>
        </button>
    </a>

    <div class="row mt-4 justify-center" *ngIf="movies.length > 0 && !loading">
        <pagination-controls class="pagination" (pageChange)="pageChanged($event)" previousLabel="" nextLabel="">
        </pagination-controls>
    </div>
</div>